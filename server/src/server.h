#ifndef SERVER_H
#define SERVER_H
#include "framework.h"

typedef
struct SOCK_ADDR {
	socket_t sock;
	struct sockaddr_in addr;
} sock_addr;

////////////////////////////////////////////
/// \brief closes server socket and stops
/// the server
////////////////////////////////////////////
void stop_server(socket_t sock);

////////////////////////////////////////////
/// \brief opens server socket and runs
/// the server
////////////////////////////////////////////
void run_server(uint16_t port);

////////////////////////////////////////////
/// \brief opens server socket and runs
/// the server
////////////////////////////////////////////
void server_loop(socket_t sock);

////////////////////////////////////////////
/// \brief receives data from the specefied 
/// socket
////////////////////////////////////////////
char* receive_data(sock_addr* sa);

////////////////////////////////////////////
/// \brief sends data to the specefied 
/// socket
////////////////////////////////////////////
int send_data(sock_addr* sa, const char* string);

#endif //SERVER_H